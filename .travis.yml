# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

dist: trusty
language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/openjax
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: oZKTe0GcawiK1D/8OBCEoarSd6n2+LobBSR1gwytNQH3HU3kXBUv7t2gq/VX3RcnSjRMB2nsw2YZAXdm1oNr+kv0lEdwyRGDirVrFyxEcWsSgDglFKqZmuwtGJp0OB8LE9y+wwbOSs5DjnRYjhRyb0Lu4/t2NvKJumgGRU7tAPuK2J8ZvG3ZG9ZrTOyzBvwxTbTXKlEpXPVR+Sf9PORZ8v/9xDa4nHEC9A4K5qJY9NYEHDZMgCrLbG8yh0QGOfziV+AWm+Z7Fh/6QgwfTIg/iQqLXbTtV4B6m12EcuR/EBuhDit6qgRFuKuXDIDurNZfmJW92tZWKM75EeGKFWnUFuxdn2ZpOYw43MFXMl8aQmuJmniB3Q82MILFEvGlaS64xxXih1G1lRZZ+Z8yZ108W4yL6YQDF9DIiCoAbGfxLZ0wrHDqTrptR6b1OlB7Qd+uY307ofqFGxRVgK+/9v/uqWD/Dfn4UyzJzBEsCAayDytm0YPidliNnAyfPKhQPYmP0p8EIhsOIQR9fTz0W2zUaTvKGzNMIhvSZRI4xwLDLHdaxbtaG0cLjOZrFEb67ght0Vm8Sn2o+W94NiOKdsmPlWIhpum9GAhhCWLxNslmWUTzwVmplR4DkbIaMmGWrq5PziVNOqOfDBHNhU8C7Tl/KlSLq5IKp5FOzX81ocPJC9U=
  - secure: cxVsGhyKxGHPfi/f0bgvLWb/Uv8XBY9OINqK6b2Pn7q3ua85vO7/xKSYJWfq1AjdFr/90cR/EworknZOx62Fik3zecEh3YRHkFgabRJocQyf2ipXKA/5svq/VRBHjyQAFd9e0M47Qv9pUqQIhPRtaTnx5DNqz4rQq/mROrAJePbbzY48yHG+A5ayA8jh7TIv3s1VKhShWMijkX/DhsCKosS4iA7sQzWHJbKZb5hpDh46jyncs+TvGUkweZlOmUKueP3ziHikuhsLEtYOwdVTGMbxuKMGj5ZvpSCtZdn2ZeDjxmCplt8h+zk4C4yqpJlb6FoZLHrSCwUuBCH/yg/q5LAOCpnzK/ybp9XCfL+j6uUL6F7pKzi3D2w6MFWRtcFJk6R8rS6pkDhwApYqxnplOzSwssj8U1UiRNJ77Bj4lRmAIXG/MN61ATiL2hSdouL0DT2SzJP0T83H6s3Mh01u7RdtdQwCaYUPArA9Mt/E5LmTx2wGMYn6w2U6UflFbjNLZy8qyksVD+XzbpMBhEA2l2fEFLH80j3SIRJjsnTkr9R10wNsmnhro2DYt0SDIwXIWTmrr1oEMKvrAZR2p1B9TosScJyPo0HUNZ7bI6r+jFE9Bg6q4ON/YGt94PmprNi7xxEOS3AZ2wXFbNxqam/X/D3bhxwmoFoWxYw/Ad6WR2M=
  - secure: t2WAyDH600dCK67JX3s79M6Y6PD5mxDPgRO5rqTMCIrNlp82R3I8Ugsk37oNC64uU2QaXpXGtID6KptFhK9F0Sc1pb9YmU9oWJLUI32hpi1Thw23PsGQmqEhYDpN06eeueljDOgK56mf1FLaNOZ0PsBcN4pwGuDMjYpQGWj4dffJ2MqrZdy1kh3BSqAvrN4K90+ORf5pTlaQORwlPBlhQw6TLe4XcBMuxqnMr28bZyQg0kY8eIDSgKA+lWEji5sRF8AZIoRf2EwsmbAnsuwmj/9ZLBKu8xiuZw4i3+tg9NPzCPsxwL0dlWemZ4P0CIO9/yadEiIrpamT+o+SiWFrM0+/nqBbGubFXYFQWWybfA8dJBK29k6LN2r75w9yP0HVX8G1U0LX2sjwlnNG6sjV9SRjOAP+9FDoHk4WiIwnS3NVcyzJG6Z/RYeCB+Y0HM4Yr92WfNcRFnupWSpeB0sf0L80TsfCkUWRz48st6JEOU7N3ABPW8cGRmv4uKqI43WlBgWdY8hF2+8DH4Er1aQG+lljds0gNh+JYQX/fymdtac9njIdQpMqIo83tJgzxrbJZyqficCPzQV8WCD3YHiPHn0KkkENXXqIpSCd6cp/5czZVeM1mX4+41seDatrZ8vTFISXucUPXc0TxQgXVMhqtgHwAIp4M3UYvmkT9mD5h5Y=
  - secure: g9HBaTd4U0ZgZZuy2rtegZNV0BYBbQEZEpvSR0yHVSAPkIEjT6UfB+DzX7zqNwnuD6sNMdL2RO7QLqPSq+UzbdnxZ3F4b1alZU6ds/zJyvk7SCG82q73+4iDGY/XBRHEJCJWkdD2++Z2RRp8e4Ng5qLd9TflGjW2l9+Pry/2RUwNKF0BIUKNRKUyRbFwzlGLynvmrF6aXy4UrkTXL8YiXeBw0vUuXrsIMOslPqb91djtHTo1NvNWMX2xt7U3qnP5phMcRb38aD5ij5JOITIohcaZGBWoYSmAgFOoQK2Qh5zymq07xKbCtLAu+we1lMZekRFg1nXIg6RYMoIMzTwR2ap2N1bCPC0P4d2edrVP0LIuhgQVDTRm+3sADBX213ydMrOSXMeXp8TlUJ6m1sdRlhWULZFX85HIR7U8oUKhDl3rGN95JrXcR4eZhtMZJjOG3OgOprOdR1Cxxihm6BAUj7ilC/howsd2XsBLbSloSo9fe4xlyF1xzZIsuIkgK9sjJV7nnT92OBwyzyKbK+opmc31vClQokTV76W+o7fZp6UQoAsxYsNNlFsNHjBCGnjjwmUq58QAfd/L1wcpdgYg6qKXG6nOKyU7negrjld9Jv1UcxxO5vgHfAxZOoDmig/YQVLuxaLO5Il25823+m+JckbFWSOK4hHvFHwZnmQK/+g=
  - secure: SlFFa9Mbq5BiADuFWl6Z+JxK3umvvIQIrcBXXO04NWrDtjVUGFMGZ6n0iDeMFLww7B6n4gKejeWLA4/+fxEiczuziYXb6Dw5xfMqHodBw7D7RUrkzqCSWTSE21ujIxOS0i1eN/DYY4mPJxo8xnf/fYgRG6BEySkt9Od0O8Jeyqb3Dbj6VYd2qpEGmLycwxuXerVCzCJ+FfEDSF4lXdGtbnK5MsOuzhnSbNnWEYCDFagCNMKz2CENcWol1qHItmnQaNgnDnYT7AgMF+CTLBXV7d4NVTLQPI+QiPhPWn2SqlRuINu2qRcVPExaPBItXRG31KWemhDurmrQG+oNx3MEGSE/LbqdWK9ApygI1t0tqlsCeUZdTtzpw+DRy6IXj+iw07Qg3HNIfP/1uZl+HorFxkzanRA9PEds7HhhDuKPOlMFBcFTb2FfP55wQZFIvcVRNu8pD4YWApVg3xUcVLZUMU9BD6WrXlus6D2TNfMMBGCAaQ4CsK2UBzlXRcQkdZglLD/TYuq8hD8VCnFYV8IZEtHI6+2par0XYviF3xKoFPuIUJyFlbxSp6U+ngDETHYDbCRdUd/YkJFhXdZBVgc3sDPP+eRSVXRxn2j/QpC+cROyJT/M0+8MCe6UJeX+V5zp7HJuSFIcIPPD7RKyvOaa+P18Xg17PBZhW4Jjv70hVik=
  - secure: p/E5dNCDDiGuzPFvM7ZfVY/OFyvBS6sNGfm45l9d3iRUuPlFssfZCz0DLBjuXUilHJC45UXI4b7e3HmY0QjWRlEKG/ozCEOC349F5z2n3gB6rnbf2spXNuo+NP/dCj8peeYyaus9TX1EWHKHYLKgokg40hzRznEE8GqRGTHh/4tBMSloSCwmVig8LRDxs8ZYiBKZvs4pDaU2cejPFHAFRhp5hHxrgvHAPi2Xzid8qZQ3XNgBIL53R/ZsuF/i7kpxZCghwV2wc6cV6gPCSxduHN4oqjPkMqujrLfZghIk6FUir8FbBO4cirhZaYW4P8dgGpmDpFsFyyS5t0+F8MQDwEb1OZl1DX354BiJ71G4IUkcz81pj2IsLvsm0QxMa2KFVMM07iSQdC1yEtCysYPCloPs9UwWLUHzGmZgJgSQdvDXovC6dNDMCM8lLXtwjj2OYDCnILw38bBaW2ajwEc+A//syefzfaxje4Yo0IR7ew0KEyJs7hxcaM9F1+UH1zzMqExXd/utsCXDW2b2JnDzT6vyUuzO03WxQf93vuQlxWsVt5t9EvNnrtmR/HO5m1uzlPQpEaIh20ERtovbBR968FqAjJkcbTXExluWQP3Rs7y8sDkJIeBr2pJ4H8Zcc9OoSL9wt3+r8S1INOorby4l2IXavIc9HOknqEs1dFMaNtY=
  - secure: xYW2iTbMv11MzXAgZq6ZLb6CHoQenrEfSPL1/2tJBjd9nBtoHMrWQcW98uCrr/21RbkH7BseK0HAHo+ETvwbceOAaN0FW/K/4M1ErE9mgykv9Q09ynzhKsNc/rJ31I6PaeAH2LzNq4Hq9puYtpjIy2MWj3+JKjgTOZ0Ieck1DYocyAdkXeMF+NFSTMDzFWmlF/mJb8AINHQMGz3BK6yVawVZ1G0Gf00QEbVtPGDwzWq25fG+6XMqAJOCe1w9Q7pXxFmwsFCOTECwIOuptPmvH1ZcMDmVZgv6dNugsSjsHl5m3rCqnkf/H7C/SNHpjBz404PiTNVGH0cvOpomCyhU1GxZ7HSxWYKZmypkZX5L2McwWuLmbvaCn9YWFzEtiEzpk2Zfc47AWCuJaG8pIUHlBILp5OtzDuVlES/lu5Jslia7skTL4GQ8hafuBjkifRlvO9q182S5E4Uz7cgSUPhvIKQSACyJIC8yZzkGg4V2f9zHPgx8fvS+P3PM7jNZocUQKz1OZGvMK4K3zA1jfjSCB54Qq8WQwahysaiWkzpx3O/dDjOUyYxva7X1JKCkDEEfKb6/6SMi1idCBz1j/w890ihnaUomD59DiK3xnbWZ4w6Gaz8Fvdbja6Zrhe68EcNXo0m8Fu8LUmI2HzZ2UfPOzwH5iPItn0rVcigY7kwRfJU=
